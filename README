madhouse-rs (mh-rs) - model-based stateful testing

WHAT IT DOES
-----------

mh-rs tests systems through command sequences that mutate state:

                 +-------+
                 | State |
                 +-------+
                     ^
                     |
+---------+     +----+----+     +-----------+
| Command | --> | check() | --> |  apply()  |
+---------+     +---------+     | [asserts] |
                                +-----------+
     ^                                |
     |                                v
+----------+                     +--------+
| Strategy |                     | State' |
+----------+                     +--------+

Commands do three things: check preconditions, apply state changes, and verify
correctness. No more forgetting to check edge cases.


FEATURES
-------
- Trait-based design that actually forces you to think about state.
- Commands validate themselves - no more half-assed tests.
- Works in both deterministic and random testing modes.
- Shows execution time so you know what's slow.
- Ability to shrink test cases when it finds bugs.


USAGE
-----
Write tests like this:

  use madhouse::{Command, CommandWrapper, State, TestContext, scenario};
  use proptest::prelude::Just;
  use std::sync::Arc;

  // Define a command.
  struct IncrementCommand;

  impl Command for IncrementCommand {
      fn check(&self, _state: &State) -> bool { true }
      fn apply(&self, state: &mut State) { state.last_mined_block += 1; }
      fn label(&self) -> String { "INCREMENT".to_string() }
      fn build(_ctx: Arc<TestContext>) -> impl Strategy<Value = CommandWrapper> {
          Just(CommandWrapper::new(IncrementCommand))
      }
  }

  // Run test.
  let context = Arc::new(TestContext::new(vec![]));
  scenario![context, IncrementCommand];


EXECUTION MODES
--------------
- DEFAULT MODE: Commands execute in the order you specified
- SHUFFLE MODE: Commands run in random order (set MADHOUSE=1)

Use shuffle mode to find bugs, deterministic mode to run scenarios.


LICENSE
-------
GNU General Public License v3 (GPL-3.0) 
